<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE mapper PUBLIC '-//mybatis.org//DTD Mapper 3.0//EN'
        'http://mybatis.org/dtd/mybatis-3-mapper.dtd'>

<mapper namespace='com.auzmor.calendar.mappers.CalendarMapper'>

    <insert id="saveEvent" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO calendar_details(uuid, object_id, calendar_id, calendar_details, account_id, object_type)
        VALUES(#{event.uuid}, #{event.objectId}, #{event.calendarId}, #{event.calendarDetails}, #{event.accountId},  #{event.objectType});
    </insert>

    <update id='updateEvent' parameterType='String'>
        UPDATE calendar_details SET updated_at=CURRENT_TIMESTAMP, calendar_details=#{calendarData}
        where object_id=#{id}
    </update>

</mapper>